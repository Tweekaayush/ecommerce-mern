"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[48],{3717:(e,s,n)=>{n.d(s,{A:()=>r});var t=n(9379),d=n(5043),i=n(2661),a=n(3003),c=n(579);const r=e=>{let{submitFunction:s}=e;const{loading:n,data:{user:{fullAddress:r}}}=(0,a.d4)((e=>e.user)),[l,o]=(0,d.useState)({address:"",city:"",postalCode:"",country:""}),h=e=>{const{name:s,value:n}=e.target;o((0,t.A)((0,t.A)({},l),{},{[s]:n}))};return(0,d.useEffect)((()=>{r&&o((0,t.A)({},r))}),[r]),(0,c.jsxs)("form",{action:"",className:"address-form",onSubmit:e=>{e.preventDefault(),s(l)},children:[(0,c.jsxs)("label",{htmlFor:"address",className:"form-label",children:[(0,c.jsx)("input",{type:"text",name:"address",id:"address",onChange:h,value:l.address}),(0,c.jsx)("span",{children:"address"})]}),(0,c.jsxs)("label",{htmlFor:"postalCode",className:"form-label",children:[(0,c.jsx)("input",{type:"text",name:"postalCode",id:"postalCode",onChange:h,value:l.postalCode}),(0,c.jsx)("span",{children:"postal code"})]}),(0,c.jsxs)("label",{htmlFor:"city",className:"form-label",children:[(0,c.jsx)("input",{type:"text",name:"city",id:"city",onChange:h,value:l.city}),(0,c.jsx)("span",{children:"city"})]}),(0,c.jsxs)("label",{htmlFor:"country",className:"form-label",children:[(0,c.jsx)("input",{type:"text",name:"country",id:"country",onChange:h,value:l.country}),(0,c.jsx)("span",{children:"country"})]}),(0,c.jsx)("button",{type:"submit",disabled:n,className:"button-1",children:n?(0,c.jsx)(i.kiM,{className:"fa-spin"}):"Update"})]})}},7048:(e,s,n)=>{n.r(s),n.d(s,{default:()=>A});var t=n(9379),d=n(5043),i=n(579);const a=e=>{let{stepNo:s,checkoutSteps:n,setStep:t}=e;return(0,i.jsx)("section",{id:"checkoutSteps",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("span",{className:"progress",style:{width:"calc(".concat((s-1)/(n.length-1),"*100% - 40px)")}}),n.map(((e,d)=>(0,i.jsx)("button",{className:"step ".concat(s===d+1?"current-step":s>d+1?"completed-step":""),disabled:s<d+1,onClick:()=>t(d+1),children:n[d].icon},d)))]})})};var c=n(3003),r=n(3717),l=n(9481),o=n(3770);const h=()=>{const{loading:e,data:{user:{fullAddress:s,name:n}}}=(0,c.d4)((e=>e.user)),t=(0,c.wA)(),[a,h]=(0,d.useState)(!1);return(0,d.useEffect)((()=>{null!==s&&void 0!==s&&s.address?h(!1):h(!0)}),[null===s||void 0===s?void 0:s.address]),(0,i.jsxs)("div",{className:"shipping-address-container",children:[(0,i.jsx)("h1",{className:"heading-3",children:"Shipping Address"}),void 0!==s&&(null===s||void 0===s?void 0:s.address)&&(0,i.jsx)("div",{className:"shipping-address",children:e?(0,i.jsx)(o.A,{cls:"address-skeleton"}):(0,i.jsxs)("p",{className:"body-text-1",children:[null===s||void 0===s?void 0:s.address,", ",null===s||void 0===s?void 0:s.postalCode,",",(0,i.jsx)("br",{}),null===s||void 0===s?void 0:s.city,", ",null===s||void 0===s?void 0:s.country]})}),(0,i.jsxs)("div",{className:"address-form-container",children:[(0,i.jsx)("button",{onClick:()=>h(!a),children:null!==s&&void 0!==s&&s.postalCode?"Edit Address":"Add Address +"}),(0,i.jsx)("div",{className:"accordian",style:{maxHeight:a?"300px":0,overflow:"hidden",transition:"max-height 0.3s ease-in-out"},children:(0,i.jsx)(r.A,{submitFunction:e=>{t((0,l.eg)({fullAddress:e}))}})})]})]})};var u=n(3986),p=n(9752);const m=["update"],x=e=>{const{update:s}=e,n=(0,u.A)(e,m),{_id:a,name:r,brand:l,image:o,quantity:h,price:x,countInStock:j}=n,[v,g]=(0,d.useState)(h),N=(0,c.wA)();return(0,d.useEffect)((()=>{N((0,p.RO)((0,t.A)((0,t.A)({},n),{},{quantity:v})))}),[v]),(0,i.jsxs)("div",{className:"checkout-cart-item",children:[(0,i.jsx)("div",{className:"checkout-item-image",children:(0,i.jsx)("img",{src:o,alt:r})}),(0,i.jsxs)("div",{className:"checkout-item-info",children:[(0,i.jsx)("h4",{className:"ellipses-2",children:r}),(0,i.jsxs)("h6",{children:["Brand: ",l]})]}),(0,i.jsxs)("p",{children:["$",x]}),(0,i.jsx)("div",{className:"checkout-item-quantity",children:(0,i.jsxs)("div",{children:[s&&(0,i.jsx)("button",{onClick:()=>{g((e=>e-1))},children:"-"}),(0,i.jsx)("span",{children:v}),s&&(0,i.jsx)("button",{onClick:()=>{g((e=>e+1))},disabled:v===j,children:"+"})]})}),(0,i.jsxs)("p",{children:["$",(x*h).toFixed(2)]})]})},j=e=>{let{update:s=!0}=e;const{cartItems:n}=(0,c.d4)((e=>e.cart));return(0,i.jsxs)("div",{className:"checkout-cart-container",children:[(0,i.jsx)("h1",{className:"heading-3",children:"Cart Items"}),(0,i.jsxs)("div",{className:"checkout-cart-head",children:[(0,i.jsx)("span",{children:"Product"}),(0,i.jsx)("span",{children:"price"}),(0,i.jsx)("span",{children:"Quantity"}),(0,i.jsx)("span",{children:"total"})]}),(0,i.jsx)("ul",{className:"checkout-cart-items",children:n.map((e=>(0,i.jsx)(x,(0,t.A)((0,t.A)({},e),{},{update:s}),e._id)))})]})},v=e=>{let{setStep:s}=e;const{user:{name:n}}=(0,c.d4)((e=>e.user.data)),{shippingAddress:t}=(0,c.d4)((e=>e.cart));return(0,d.useEffect)((()=>{0===Object.keys(t).length&&s(2)}),[]),(0,i.jsxs)("div",{className:"payment-container",children:[(0,i.jsx)("h1",{className:"heading-3",children:"Shipping Address"}),(0,i.jsx)("div",{className:"shipping-address",children:(0,i.jsxs)("p",{className:"body-text-1",children:[null===t||void 0===t?void 0:t.address,", ",null===t||void 0===t?void 0:t.postalCode,",",(0,i.jsx)("br",{}),null===t||void 0===t?void 0:t.city,", ",null===t||void 0===t?void 0:t.country]})}),(0,i.jsx)(j,{update:!1})]})};var g=n(814),N=n(7488),f=(n(2406),n(184)),y=n(2661),b=n(8849);const A=()=>{var e;const{itemsPrice:s,shippingPrice:n,taxPrice:r,totalPrice:l,cartItems:o,paymentMethod:u,shippingAddress:m}=(0,c.d4)((e=>e.cart)),{loading:x,data:{user:{fullAddress:A}}}=(0,c.d4)((e=>e.user)),{loading:k}=(0,c.d4)((e=>e.orders)),[C,S]=(0,d.useState)(1),P=(0,c.wA)(),F=[{name:"Cart",component:(0,i.jsx)(j,{}),func:function(){return!0},button:"Continue",icon:(0,i.jsx)(f.AsH,{})},{name:"Shipping Address",component:(0,i.jsx)(h,{}),func:function(){return A?(P((0,p.QQ)((0,t.A)({},A))),!0):(N.oR.error("Please enter your shipping address"),!1)},button:"Continue",icon:(0,i.jsx)(f.toK,{})},{name:"Payment",component:(0,i.jsx)(v,{setStep:S}),func:function(){const e={orderItems:o,shippingAddress:m,paymentMethod:u,itemsPrice:s,taxPrice:r,shippingPrice:n,totalPrice:l};return P((0,g.fS)(e)),!1},button:"place order",icon:(0,i.jsx)(f.xM0,{})}],w=(0,d.useCallback)((()=>{var e;return null===(e=F[C-1])||void 0===e?void 0:e.component}),[C]);return(0,d.useEffect)((()=>{document.title=F[C-1].name}),[C]),0!==o.length?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a,{stepNo:C,checkoutSteps:F,setStep:S}),(0,i.jsx)("section",{id:"checkout",children:(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)(w,{}),(0,i.jsxs)("div",{className:"checkout-summary",children:[(0,i.jsx)("h1",{className:"heading-3",children:"cart summary"}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"heading-4",children:"Items Price"}),(0,i.jsxs)("p",{children:["$",s]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"heading-4",children:"Shipping price"}),(0,i.jsxs)("p",{children:["$",n]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"heading-4",children:"Tax Price"}),(0,i.jsxs)("p",{children:["$",r]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"heading-4",children:"total price"}),(0,i.jsxs)("p",{children:["$",l]})]}),(0,i.jsx)("button",{className:"button-1",onClick:()=>{if(C>F.length)return;F[C-1].func()&&S((e=>e+1))},disabled:k||x,children:k||x?(0,i.jsx)(y.kiM,{}):null===(e=F[C-1])||void 0===e?void 0:e.button})]})]})})]}):(0,i.jsx)("section",{id:"empty-cart",children:(0,i.jsx)("div",{className:"container",children:(0,i.jsx)("img",{src:b,alt:"empty-cart"})})})}}}]);
//# sourceMappingURL=48.fd3d8291.chunk.js.map